<section class="py-12 px-6">
  <div class="mx-auto max-w-2xl">
    <div class="mb-8">
      <h1 class="text-2xl lg:text-3xl font-bold text-main-text mb-2">メッセージを編集</h1>
      <p class="text-sub-text font-light">自由に書き換えて、あなたらしい言葉にしてください。</p>
    </div>

    <%= form_with model: @message, url: message_path(@message), method: :patch, class: "space-y-6" do |f| %>
      <div>
        <%= f.text_area :edited_content,
              value: @message.edited_content.presence || @message.generated_content,
              rows: 12,
              class: "w-full p-6 rounded-2xl border-2 border-primary/10 bg-white/80 text-main-text placeholder-sub-text/50 focus:border-primary focus:ring-0 focus:outline-none transition-all resize-none leading-relaxed" %>
      </div>

      <div class="flex gap-4">
        <%= link_to message_path(@message), class: "flex-1 h-14 border-2 border-primary/20 text-primary rounded-xl font-bold text-lg flex items-center justify-center hover:bg-primary/5 transition-all" do %>
          戻る
        <% end %>
        <button type="submit" class="flex-1 h-14 bg-primary text-white rounded-xl font-bold text-lg flex items-center justify-center gap-2 hover:shadow-[0_4px_20px_rgba(192,108,94,0.3)] transition-all">
          <span class="material-symbols-outlined text-xl">save</span>
          保存する
        </button>
      </div>
    <% end %>

    <div class="pt-4">
      <%= button_to "元のメッセージに戻す", restore_message_path(@message), method: :patch, class: "w-full h-12 text-sub-text rounded-xl font-medium text-center hover:text-primary transition-all", data: { turbo_confirm: "編集内容を破棄して、元のメッセージに戻しますか？" } %>
    </div>
  </div>
</section>
